"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var __chunk85590140_js=require("./chunk-85590140.js"),__chunkA89810f0_js=require("./chunk-a89810f0.js"),__chunk1334ff0b_js=require("./chunk-1334ff0b.js"),TreeNode=function(){function e(e,n,t){this.key=e,this.url=n,this.name=t,this.showIcon=!1,this.expanded=!1,this.icon=null,n&&(this.showIcon=!0,this.icon=this.getIcon())}return e.prototype.expand=function(){this.expanded=!this.expanded,this.icon=this.getIcon()},e.prototype.getIcon=function(){return!0===this.showIcon?this.expanded?"- ":"+ ":null},e}(),treeNodeReducer=function(e,n){switch(void 0===e&&(e=[]),n.name){case"LOAD_NODES":return e.nodes.map(function(e){return new TreeNode(e.key,e.url,e.name)})}},Store=function(){function e(e){var n=this;this._http=e,this.dispatcher=new __chunk85590140_js.Subject,this.treeNodes={},this.nodes={},this.dispatcher.subscribe(function(e){return n.handleAction(e)})}return e.prototype.handleAction=function(e){var n=this;"LOAD_NODES"===e.name&&(this.nodes[e.key]?this.treeNodes[e.key].next(this.nodes[e.key]):this._http.get(e.url).map(function(e){return e.json()}).subscribe(function(t){n.nodes[e.key]=treeNodeReducer(t,e),n.treeNodes[e.key].next(n.nodes[e.key])}))},e.prototype.getTreeNodes=function(e){return this.treeNodes.hasOwnProperty(e)||(this.treeNodes[e]=new __chunk85590140_js.Subject),this.treeNodes[e].asObservable()},e.prototype.dispatchAction=function(e){this.dispatcher.next(e)},e.decorators=[{type:__chunk85590140_js.Injectable}],e.ctorParameters=function(){return[{type:__chunkA89810f0_js.Http}]},e}(),TreeNodeService=function(){function e(e){this._store=e}return e.prototype.loadTreeNodes=function(e){e.url&&this._store.dispatchAction({key:e.key,url:e.url,name:"LOAD_NODES"})},e.decorators=[{type:__chunk85590140_js.Injectable}],e.ctorParameters=function(){return[{type:Store}]},e}(),CountryDemo=function(){function e(){this.node=null}return e.prototype.ngOnInit=function(){this.node=new TreeNode("root","./tree-view-data/countries.json","")},e.decorators=[{type:__chunk85590140_js.Component,args:[{selector:"country-demo",template:'<h1>Lazy loaded TreeView using Redux and RxJs</h1>\n            <lazy-tree-view [root]="node"></lazy-tree-view>',providers:[Store,TreeNodeService]}]}],e.ctorParameters=function(){return[]},e}(),LazyTreeView=function(){function e(e,n){this._store=e,this._treeNodeService=n,this.items=[]}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this._store.getTreeNodes(this.root.key).subscribe(function(n){e.items=n}),this._treeNodeService.loadTreeNodes(this.root)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.decorators=[{type:__chunk85590140_js.Component,args:[{template:'\n  <ul>\n  <li *ngFor="let node of items">\n\n    <span class="iconButton" [ngClass]=\'{"tree-node-no-children": !node.showIcon}\' (click)="node.expand()">{{node.icon}}</span>\n    <span>{{ node.name }}</span>\n\n    <div *ngIf="node.expanded">\n      <lazy-tree-view [root]="node"></lazy-tree-view>\n    </div>\n  </li>\n  </ul>\n',selector:"lazy-tree-view"}]}],e.ctorParameters=function(){return[{type:Store},{type:TreeNodeService}]},e.propDecorators={root:[{type:__chunk85590140_js.Input}]},e}(),LazyTreeviewModule=function(){function e(){}return e.decorators=[{type:__chunk85590140_js.NgModule,args:[{declarations:[CountryDemo,LazyTreeView],imports:[__chunk85590140_js.CommonModule,__chunkA89810f0_js.HttpModule,__chunk85590140_js.RouterModule.forChild([{path:"",component:CountryDemo}])]}]}],e.ctorParameters=function(){return[]},e}(),styles_LazyTreeView=[],RenderType_LazyTreeView=__chunk85590140_js.createRendererType2({encapsulation:2,styles:styles_LazyTreeView,data:{}});function View_LazyTreeView_2(e){return __chunk85590140_js.viewDef(0,[(e()(),__chunk85590140_js.elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),__chunk85590140_js.elementDef(1,0,null,null,1,"lazy-tree-view",[],null,null,null,View_LazyTreeView_0,RenderType_LazyTreeView)),__chunk85590140_js.directiveDef(2,245760,null,0,LazyTreeView,[Store,TreeNodeService],{root:[0,"root"]},null)],function(e,n){e(n,2,0,n.parent.context.$implicit)},null)}function View_LazyTreeView_1(e){return __chunk85590140_js.viewDef(0,[(e()(),__chunk85590140_js.elementDef(0,0,null,null,8,"li",[],null,null,null,null,null)),(e()(),__chunk85590140_js.elementDef(1,0,null,null,3,"span",[["class","iconButton"]],null,[[null,"click"]],function(e,n,t){var _=!0;if("click"===n){_=!1!==e.context.$implicit.expand()&&_}return _},null,null)),__chunk85590140_js.directiveDef(2,278528,null,0,__chunk85590140_js.NgClass,[__chunk85590140_js.IterableDiffers,__chunk85590140_js.KeyValueDiffers,__chunk85590140_js.ElementRef,__chunk85590140_js.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),__chunk85590140_js.pureObjectDef(3,{"tree-node-no-children":0}),(e()(),__chunk85590140_js.textDef(4,null,["",""])),(e()(),__chunk85590140_js.elementDef(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),__chunk85590140_js.textDef(6,null,["",""])),(e()(),__chunk85590140_js.anchorDef(16777216,null,null,1,null,View_LazyTreeView_2)),__chunk85590140_js.directiveDef(8,16384,null,0,__chunk85590140_js.NgIf,[__chunk85590140_js.ViewContainerRef,__chunk85590140_js.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,2,0,"iconButton",e(n,3,0,!n.context.$implicit.showIcon));e(n,8,0,n.context.$implicit.expanded)},function(e,n){e(n,4,0,n.context.$implicit.icon);e(n,6,0,n.context.$implicit.name)})}function View_LazyTreeView_0(e){return __chunk85590140_js.viewDef(0,[(e()(),__chunk85590140_js.elementDef(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),__chunk85590140_js.anchorDef(16777216,null,null,1,null,View_LazyTreeView_1)),__chunk85590140_js.directiveDef(2,802816,null,0,__chunk85590140_js.NgForOf,[__chunk85590140_js.ViewContainerRef,__chunk85590140_js.TemplateRef,__chunk85590140_js.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,2,0,n.component.items)},null)}function View_LazyTreeView_Host_0(e){return __chunk85590140_js.viewDef(0,[(e()(),__chunk85590140_js.elementDef(0,0,null,null,1,"lazy-tree-view",[],null,null,null,View_LazyTreeView_0,RenderType_LazyTreeView)),__chunk85590140_js.directiveDef(1,245760,null,0,LazyTreeView,[Store,TreeNodeService],null,null)],function(e,n){e(n,1,0)},null)}var LazyTreeViewNgFactory=__chunk85590140_js.createComponentFactory("lazy-tree-view",LazyTreeView,View_LazyTreeView_Host_0,{root:"root"},{},[]),styles_CountryDemo=[],RenderType_CountryDemo=__chunk85590140_js.createRendererType2({encapsulation:2,styles:styles_CountryDemo,data:{}});function View_CountryDemo_0(e){return __chunk85590140_js.viewDef(0,[(e()(),__chunk85590140_js.elementDef(0,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),__chunk85590140_js.textDef(-1,null,["Lazy loaded TreeView using Redux and RxJs"])),(e()(),__chunk85590140_js.elementDef(2,0,null,null,1,"lazy-tree-view",[],null,null,null,View_LazyTreeView_0,RenderType_LazyTreeView)),__chunk85590140_js.directiveDef(3,245760,null,0,LazyTreeView,[Store,TreeNodeService],{root:[0,"root"]},null)],function(e,n){e(n,3,0,n.component.node)},null)}function View_CountryDemo_Host_0(e){return __chunk85590140_js.viewDef(0,[(e()(),__chunk85590140_js.elementDef(0,0,null,null,3,"country-demo",[],null,null,null,View_CountryDemo_0,RenderType_CountryDemo)),__chunk85590140_js.providerDef(4608,null,Store,Store,[__chunkA89810f0_js.Http]),__chunk85590140_js.providerDef(4608,null,TreeNodeService,TreeNodeService,[Store]),__chunk85590140_js.directiveDef(3,114688,null,0,CountryDemo,[],null,null)],function(e,n){e(n,3,0)},null)}var CountryDemoNgFactory=__chunk85590140_js.createComponentFactory("country-demo",CountryDemo,View_CountryDemo_Host_0,{},{},[]),LazyTreeviewModuleNgFactory=__chunk85590140_js.createNgModuleFactory(LazyTreeviewModule,[],function(e){return __chunk85590140_js.moduleDef([__chunk85590140_js.moduleProvideDef(512,__chunk85590140_js.ComponentFactoryResolver,__chunk85590140_js.CodegenComponentFactoryResolver,[[8,[CountryDemoNgFactory]],[3,__chunk85590140_js.ComponentFactoryResolver],__chunk85590140_js.NgModuleRef]),__chunk85590140_js.moduleProvideDef(4608,__chunk85590140_js.NgLocalization,__chunk85590140_js.NgLocaleLocalization,[__chunk85590140_js.LOCALE_ID,[2,__chunk85590140_js.DEPRECATED_PLURAL_FN]]),__chunk85590140_js.moduleProvideDef(4608,__chunkA89810f0_js.BrowserXhr,__chunkA89810f0_js.BrowserXhr,[]),__chunk85590140_js.moduleProvideDef(4608,__chunkA89810f0_js.ResponseOptions,__chunkA89810f0_js.BaseResponseOptions,[]),__chunk85590140_js.moduleProvideDef(5120,__chunkA89810f0_js.XSRFStrategy,__chunkA89810f0_js._createDefaultCookieXSRFStrategy,[]),__chunk85590140_js.moduleProvideDef(4608,__chunkA89810f0_js.XHRBackend,__chunkA89810f0_js.XHRBackend,[__chunkA89810f0_js.BrowserXhr,__chunkA89810f0_js.ResponseOptions,__chunkA89810f0_js.XSRFStrategy]),__chunk85590140_js.moduleProvideDef(4608,__chunkA89810f0_js.RequestOptions,__chunkA89810f0_js.BaseRequestOptions,[]),__chunk85590140_js.moduleProvideDef(5120,__chunkA89810f0_js.Http,__chunkA89810f0_js.httpFactory,[__chunkA89810f0_js.XHRBackend,__chunkA89810f0_js.RequestOptions]),__chunk85590140_js.moduleProvideDef(512,__chunk85590140_js.CommonModule,__chunk85590140_js.CommonModule,[]),__chunk85590140_js.moduleProvideDef(512,__chunkA89810f0_js.HttpModule,__chunkA89810f0_js.HttpModule,[]),__chunk85590140_js.moduleProvideDef(512,__chunk85590140_js.RouterModule,__chunk85590140_js.RouterModule,[[2,__chunk85590140_js.ROUTER_FORROOT_GUARD],[2,__chunk85590140_js.Router]]),__chunk85590140_js.moduleProvideDef(512,LazyTreeviewModule,LazyTreeviewModule,[]),__chunk85590140_js.moduleProvideDef(1024,__chunk85590140_js.ROUTES,function(){return[[{path:"",component:CountryDemo}]]},[])])});exports.LazyTreeviewModuleNgFactory=LazyTreeviewModuleNgFactory;
