"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var __chunk1_js=require("./chunk1.js"),KeyMap=function(){function e(){}return e.getNavigationDirection=function(e){var n=new KeyDirection;return 38===e&&(n.up=!0),40===e&&(n.down=!0),39===e&&(n.right=!0),9===e&&(n.tab=!0),37===e&&(n.left=!0),n},e}(),KeyDirection=function(){return function(){}}(),Column=function(){return function(e,n){this.columnIndex=e,this.rowIndex=n,this.cellValue=""}}(),Row=function(){return function(e,n){this.rowIndex=e,this.columnCount=n,this.columns=[];for(var t=0;t<this.columnCount;t++)this.columns.push(new Column(t,this.rowIndex))}}(),SpreadsheetModel=function(){function e(e,n){this.rowCount=e,this.columnCount=n,this.rows=[],this.start=0,this.end=e;for(var t=0;t<this.rowCount;t++)this.rows.push(new Row(t,this.columnCount));this.current=this.rows[0].columns[0]}return e.prototype.selectColumn=function(e){this.current=e},e.prototype.navigate=function(e){var n=KeyMap.getNavigationDirection(e);if(n.down&&(this.ensureRow(),this.current=this.rows[this.current.rowIndex+1].columns[this.current.columnIndex],this.adjustRowRangeDownward()),n.up){if(0===this.current.rowIndex)return;this.current=this.rows[this.current.rowIndex-1].columns[this.current.columnIndex],this.adjustRowRangeUpward()}if(n.left){if(0===this.current.columnIndex)return;this.current=this.rows[this.current.rowIndex].columns[this.current.columnIndex-1]}if(n.right){if(this.current.columnIndex===this.columnCount-1)return;this.current=this.rows[this.current.rowIndex].columns[this.current.columnIndex+1]}n.tab&&(this.current.columnIndex===this.columnCount-1?(this.ensureRow(),this.current=this.rows[this.current.rowIndex+1].columns[0],this.adjustRowRangeDownward()):this.current=this.rows[this.current.rowIndex].columns[this.current.columnIndex+1])},e.prototype.adjustRowRangeUpward=function(){this.current.rowIndex<this.start&&this.shiftRowsBy(-1)},e.prototype.adjustRowRangeDownward=function(){this.current.rowIndex===this.end&&this.shiftRowsBy(1)},e.prototype.shiftRowsBy=function(e){this.start=this.start+e,this.end=this.end+e},e.prototype.ensureRow=function(){this.current.rowIndex+1>=this.rows.length&&this.rows.push(new Row(this.current.rowIndex+1,this.columnCount))},e}(),HeaderRowService=function(){function e(){}return e.createHeader=function(e){for(var n="abcdefghijklmnopqrstuvwxyz",t=[],l="",u=0,r=0;r<e;r++)u===n.length&&(l+=n.substr(0,1),u=0),t.push(l+n.substr(u,1)),u++;return t},e}(),Spreadsheet=function(){function e(){this.header=[],this.visibleRows=[],this.model=new SpreadsheetModel(10,4),this.header=HeaderRowService.createHeader(this.model.rows[0].columns.length),this.visibleRows=this.getVisibleRows()}return e.prototype.getHeader=function(){return HeaderRowService.createHeader(this.model.rows[0].columns.length)},e.prototype.navigate=function(e){this.model.navigate(e.keyCode),this.visibleRows=this.getVisibleRows()},e.prototype.ngAfterViewChecked=function(){document.getElementById(this.model.current.rowIndex+"-"+this.model.current.columnIndex).focus()},e.prototype.getVisibleRows=function(){var e=this;return this.model.rows.filter(function(n){return n.rowIndex>=e.model.start&&n.rowIndex<e.model.end})},e.prototype.getActive=function(e){if(e===this.model.current)return"active-cell"},e.decorators=[{type:__chunk1_js.Component,args:[{selector:"spreadsheet",template:'<h1>Virtualized Spreadsheet</h1>\n    <table id="spreadsheet">\n        <tr>\n            <td class="row-number-column"></td>\n            <td class="columnHeader" *ngFor="let columnHeader of header">{{columnHeader}}</td>\n        </tr>\n        <tr *ngFor="let row of visibleRows">\n            <td class="row-number-column">{{row.rowIndex}}</td>\n            <td *ngFor="let col of row.columns">\n                <input  data-id="{{col.rowIndex}}-{{col.columnIndex}}" [value]="col.cellValue" (input)="col.cellValue = $event.target.value" (click)="model.selectColumn(col)" (keyup)="navigate($event)" />\n            </td>\n        </tr>\n    </table>\n    <h4><a href="http://www.syntaxsuccess.com/viewarticle/virtualized-spreadsheet-component-in-angular-2.0">Read more here</a></h4>\n    '}]}],e.ctorParameters=function(){return[]},e.propDecorators={rows:[{type:__chunk1_js.Input}],columns:[{type:__chunk1_js.Input}]},e}(),SpreadsheetModule=function(){function e(){}return e.decorators=[{type:__chunk1_js.NgModule,args:[{declarations:[Spreadsheet],imports:[__chunk1_js.CommonModule,__chunk1_js.RouterModule.forChild([{path:"",component:Spreadsheet}])]}]}],e.ctorParameters=function(){return[]},e}(),styles_Spreadsheet=[],RenderType_Spreadsheet=__chunk1_js.createRendererType2({encapsulation:2,styles:styles_Spreadsheet,data:{}});function View_Spreadsheet_1(e){return __chunk1_js.viewDef(0,[(e()(),__chunk1_js.elementDef(0,0,null,null,1,"td",[["class","columnHeader"]],null,null,null,null,null)),(e()(),__chunk1_js.textDef(1,null,["",""]))],null,function(e,n){e(n,1,0,n.context.$implicit)})}function View_Spreadsheet_3(e){return __chunk1_js.viewDef(0,[(e()(),__chunk1_js.elementDef(0,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),__chunk1_js.elementDef(1,0,null,null,0,"input",[],[[8,"id",0],[8,"value",0]],[[null,"input"],[null,"click"],[null,"keyup"]],function(e,n,t){var l=!0,u=e.component;if("input"===n){l=!1!==(e.context.$implicit.cellValue=t.target.value)&&l}if("click"===n){l=!1!==u.model.selectColumn(e.context.$implicit)&&l}if("keyup"===n){l=!1!==u.navigate(t)&&l}return l},null,null))],null,function(e,n){e(n,1,0,__chunk1_js.inlineInterpolate(2,"",n.context.$implicit.rowIndex,"-",n.context.$implicit.columnIndex,""),n.context.$implicit.cellValue)})}function View_Spreadsheet_2(e){return __chunk1_js.viewDef(0,[(e()(),__chunk1_js.elementDef(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),__chunk1_js.elementDef(1,0,null,null,1,"td",[["class","row-number-column"]],null,null,null,null,null)),(e()(),__chunk1_js.textDef(2,null,["",""])),(e()(),__chunk1_js.anchorDef(16777216,null,null,1,null,View_Spreadsheet_3)),__chunk1_js.directiveDef(4,802816,null,0,__chunk1_js.NgForOf,[__chunk1_js.ViewContainerRef,__chunk1_js.TemplateRef,__chunk1_js.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,4,0,n.context.$implicit.columns)},function(e,n){e(n,2,0,n.context.$implicit.rowIndex)})}function View_Spreadsheet_0(e){return __chunk1_js.viewDef(0,[(e()(),__chunk1_js.elementDef(0,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),__chunk1_js.textDef(-1,null,["Virtualized Spreadsheet"])),(e()(),__chunk1_js.elementDef(2,0,null,null,7,"table",[["id","spreadsheet"]],null,null,null,null,null)),(e()(),__chunk1_js.elementDef(3,0,null,null,6,"tbody",[],null,null,null,null,null)),(e()(),__chunk1_js.elementDef(4,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),__chunk1_js.elementDef(5,0,null,null,0,"td",[["class","row-number-column"]],null,null,null,null,null)),(e()(),__chunk1_js.anchorDef(16777216,null,null,1,null,View_Spreadsheet_1)),__chunk1_js.directiveDef(7,802816,null,0,__chunk1_js.NgForOf,[__chunk1_js.ViewContainerRef,__chunk1_js.TemplateRef,__chunk1_js.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),__chunk1_js.anchorDef(16777216,null,null,1,null,View_Spreadsheet_2)),__chunk1_js.directiveDef(9,802816,null,0,__chunk1_js.NgForOf,[__chunk1_js.ViewContainerRef,__chunk1_js.TemplateRef,__chunk1_js.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),__chunk1_js.elementDef(10,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),__chunk1_js.elementDef(11,0,null,null,1,"a",[["href","http://www.syntaxsuccess.com/viewarticle/virtualized-spreadsheet-component-in-angular-2.0"]],null,null,null,null,null)),(e()(),__chunk1_js.textDef(-1,null,["Read more here"]))],function(e,n){var t=n.component;e(n,7,0,t.header);e(n,9,0,t.visibleRows)},null)}function View_Spreadsheet_Host_0(e){return __chunk1_js.viewDef(0,[(e()(),__chunk1_js.elementDef(0,0,null,null,1,"spreadsheet",[],null,null,null,View_Spreadsheet_0,RenderType_Spreadsheet)),__chunk1_js.directiveDef(1,8437760,null,0,Spreadsheet,[],null,null)],null,null)}var SpreadsheetNgFactory=__chunk1_js.createComponentFactory("spreadsheet",Spreadsheet,View_Spreadsheet_Host_0,{rows:"rows",columns:"columns"},{},[]),SpreadsheetModuleNgFactory=__chunk1_js.createNgModuleFactory(SpreadsheetModule,[],function(e){return __chunk1_js.moduleDef([__chunk1_js.moduleProvideDef(512,__chunk1_js.ComponentFactoryResolver,__chunk1_js.CodegenComponentFactoryResolver,[[8,[SpreadsheetNgFactory]],[3,__chunk1_js.ComponentFactoryResolver],__chunk1_js.NgModuleRef]),__chunk1_js.moduleProvideDef(4608,__chunk1_js.NgLocalization,__chunk1_js.NgLocaleLocalization,[__chunk1_js.LOCALE_ID,[2,__chunk1_js.DEPRECATED_PLURAL_FN]]),__chunk1_js.moduleProvideDef(512,__chunk1_js.CommonModule,__chunk1_js.CommonModule,[]),__chunk1_js.moduleProvideDef(512,__chunk1_js.RouterModule,__chunk1_js.RouterModule,[[2,__chunk1_js.ROUTER_FORROOT_GUARD],[2,__chunk1_js.Router]]),__chunk1_js.moduleProvideDef(512,SpreadsheetModule,SpreadsheetModule,[]),__chunk1_js.moduleProvideDef(1024,__chunk1_js.ROUTES,function(){return[[{path:"",component:Spreadsheet}]]},[])])});exports.SpreadsheetModuleNgFactory=SpreadsheetModuleNgFactory;
