webpackJsonp([1],{101:function(t,e,r){"use strict";var n=r(1),i=r(39);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},105:function(t,e,r){"use strict";var n=r(1),i=r(106);n.Observable.prototype.do=i._do,n.Observable.prototype._do=i._do},106:function(t,e,r){"use strict";function n(t,e,r){return i.tap(t,e,r)(this)}var i=r(107);e._do=n},107:function(t,e,r){"use strict";function n(t,e,r){return function(n){return n.lift(new c(t,e,r))}}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0);e.tap=n;var c=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,r,n,i){t.call(this,e);var c=new o.Subscriber(r,n,i);c.syncErrorThrowable=!0,this.add(c),this.safeSubscriber=c}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},126:function(t,e,r){"use strict";var n=r(1),i=r(127);n.Observable.fromEvent=i.fromEvent},127:function(t,e,r){"use strict";var n=r(128);e.fromEvent=n.FromEventObservable.create},128:function(t,e,r){"use strict";function n(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===v.call(t)}function c(t){return!!t&&"[object HTMLCollection]"===v.call(t)}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(1),l=r(40),h=r(22),f=r(23),p=r(8),v=Object.prototype.toString,d=function(t){function e(e,r,n,i){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=i}return u(e,t),e.create=function(t,r,n,i){return h.isFunction(n)&&(i=n,n=void 0),new e(t,r,i,n)},e.setupSubscription=function(t,r,u,a,l){var h;if(o(t)||c(t))for(var f=0,v=t.length;f<v;f++)e.setupSubscription(t[f],r,u,a,l);else if(s(t)){var d=t;t.addEventListener(r,u,l),h=function(){return d.removeEventListener(r,u)}}else if(i(t)){var b=t;t.on(r,u),h=function(){return b.off(r,u)}}else{if(!n(t))throw new TypeError("Invalid event target");var m=t;t.addListener(r,u),h=function(){return m.removeListener(r,u)}}a.add(new p.Subscription(h))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,i=this.options,o=this.selector,c=o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=l.tryCatch(o).apply(void 0,e);n===f.errorObject?t.error(f.errorObject.e):t.next(n)}:function(e){return t.next(e)};e.setupSubscription(r,n,c,t,i)},e}(a.Observable);e.FromEventObservable=d},129:function(t,e,r){"use strict";var n=r(1),i=r(44);n.Observable.prototype.filter=i.filter},130:function(t,e,r){"use strict";var n=r(1),i=r(131);n.Observable.prototype.takeUntil=i.takeUntil},131:function(t,e,r){"use strict";function n(t){return i.takeUntil(t)(this)}var i=r(132);e.takeUntil=n},132:function(t,e,r){"use strict";function n(t){return function(e){return e.lift(new s(t))}}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(20),c=r(19);e.takeUntil=n;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(c.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},133:function(t,e,r){"use strict";var n=r(1),i=r(134);n.Observable.prototype.repeat=i.repeat},134:function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),i.repeat(t)(this)}var i=r(135);e.repeat=n},135:function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),function(e){return 0===t?new c.EmptyObservable:t<0?e.lift(new s(-1,e)):e.lift(new s(t-1,e))}}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),c=r(10);e.repeat=n;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,n=e.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(o.Subscriber)},90:function(t,e,r){"use strict";function n(t){return x._39(0,[(t()(),x._17(0,0,null,null,3,"span",[],null,null,null,null,null)),x._16(1,278528,null,0,k.i,[x.z,x.A,x.o,x.N],{ngClass:[0,"ngClass"]},null),x._33(2,{currentChar:0,selectedChar:1}),(t()(),x._37(3,null,["",""]))],function(t,e){t(e,1,0,t(e,2,0,e.context.$implicit.isCurrent,e.context.$implicit.isSelected))},function(t,e){t(e,3,0,e.context.$implicit.value)})}function i(t){return x._39(0,[(t()(),x._17(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),x._37(-1,null,["Text editor based on Observables"])),(t()(),x._17(2,0,null,null,1,"div",[["class","alert alert-success"],["role","alert"]],null,null,null,null,null)),(t()(),x._37(-1,null,[" Supports typing of letters and numbers. Basic text selection and cursor placement is also supported. "])),(t()(),x._17(4,0,null,null,3,"div",[["class","editor"]],null,null,null,null,null)),(t()(),x._17(5,0,null,null,2,"div",[["class","page noselect"],["id","page"]],null,null,null,null,null)),(t()(),x._12(16777216,null,null,1,null,n)),x._16(7,802816,null,0,k.j,[x._0,x.W,x.z],{ngForOf:[0,"ngForOf"]},null),(t()(),x._17(8,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),x._17(9,0,null,null,1,"a",[["href","http://www.syntaxsuccess.com/viewarticle/observables-in-angular-2.0"]],null,null,null,null,null)),(t()(),x._37(-1,null,["Read more here"]))],function(t,e){t(e,7,0,e.component.currentDocument.characters)},null)}function o(t){return x._39(0,[(t()(),x._17(0,0,null,null,1,"editor",[],null,null,null,i,D)),x._16(1,114688,null,0,O,[],null,null)],function(t,e){t(e,1,0)},null)}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(){}return t.spaceBar=32,t.enter=13,t.a=65,t.z=90,t.backSpace=8,t.zero=48,t.nine=57,t}(),s=function(){function t(t){this.isCurrent=!1,this.lineBreak=!1,this.placeHolder=!1,this.deleteChar=!1,this.isSelected=!1,t===c.enter?(this.value="\n",this.lineBreak=!0):-1===t?(this.value="",this.placeHolder=!0):t===c.backSpace?this.deleteChar=!0:this.value=String.fromCharCode(t).toLowerCase()}return t}(),u=function(){function t(){this.characters=[],this.firstSelectedCharacter=-1,this.currentChar=new s(-1),this.characters.push(this.currentChar),this.characters[0].isCurrent=!0}return t.prototype.deselectPreviousCharacter=function(){if(this.currentChar){var t=this.characters.indexOf(this.currentChar);this.characters[t].isCurrent=!1}},t.prototype.clearSelection=function(t){this.firstSelectedCharacter=-1,t&&(this.firstSelectedCharacter=this.characters.indexOf(t.character)),this.characters.forEach(function(t){return t.isSelected=!1})},t.prototype.edit=function(t,e){if(t.deleteChar){var r=this.characters.indexOf(this.currentChar);r>=1&&(this.characters.splice(r,1),this.characters.length>1?(this.characters[r-1].isCurrent=!0,this.currentChar=this.characters[r-1]):1===this.characters.length&&(this.characters[0].isCurrent=!0,this.currentChar=this.characters[0]))}else if(this.characters.splice(e,0,t),t.lineBreak){this.deselectPreviousCharacter();var n=new s(-1);this.characters.splice(e+1,0,n),this.placeCursor(n)}else this.placeCursor(t)},t.prototype.placeCursor=function(t){this.deselectPreviousCharacter();var e=this.characters.indexOf(t);this.characters[e].isCurrent=!0,this.currentChar=t},t.prototype.selectCharacter=function(t){for(var e=this.characters.indexOf(t),r=this.firstSelectedCharacter;r<=e;r++)this.characters[r].isSelected=!0},t.prototype.processInput=function(t,e){if("modify"===e){var r=this.characters.indexOf(this.currentChar);r<0&&(r=this.characters.length-1),this.edit(t,r+1)}"select"===e&&this.placeCursor(t),"range"===e&&this.selectCharacter(t)},t}(),a=r(2),l=r(1),h=(r.n(l),r(126)),f=(r.n(h),r(105)),p=(r.n(f),r(94)),v=(r.n(p),r(129)),d=(r.n(v),r(101)),b=(r.n(d),r(130)),m=(r.n(b),r(133)),y=(r.n(m),r(97)),g=(r.n(y),this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,c=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(o<3?i(c):o>3?i(e,r,c):i(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c}),O=function(){function t(){this.currentDocument=new u}return t.prototype.isSuportedCharacter=function(t){return t>=c.a&&t<c.z||(t===c.enter||t===c.spaceBar||t===c.backSpace||t>=c.zero&&t<=c.nine)},t.prototype.getCharacterFromElement=function(t,e){var r=[].slice.call(this.editor.children).indexOf(t.target);return r>=0?{operation:e,character:this.currentDocument.characters[r],element:t}:null},t.prototype.ngOnInit=function(){var t=this;this.editor=document.getElementById("page"),this.keyUp=l.Observable.fromEvent(document,"keyup").filter(function(e){return t.isSuportedCharacter(e.which)}).map(function(t){return{operation:"modify",character:new s(t.which),element:t}}),this.mouseDown=l.Observable.fromEvent(this.editor,"mousedown").do(function(e){return t.currentDocument.clearSelection(t.getCharacterFromElement(e,"range"))}).flatMap(function(e){return l.Observable.fromEvent(t.editor,"mousemove")}).map(function(e){return t.getCharacterFromElement(e,"range")}).filter(function(t){return null!==t}).takeUntil(l.Observable.fromEvent(this.editor,"mouseup")).repeat(),this.click=l.Observable.fromEvent(this.editor,"click").map(function(e){return t.getCharacterFromElement(e,"select")}).filter(function(t){return null!==t}),this.keyDown=l.Observable.fromEvent(document,"keydown").filter(function(t){return t.which===c.spaceBar||t.which===c.backSpace}).map(function(t){return{element:t}}),this.keyUp.merge(this.click).merge(this.mouseDown).merge(this.keyDown).subscribe(function(e){t.currentDocument.processInput(e.character,e.operation),e.element.preventDefault()})},t=g([a.k({selector:"editor",template:'\n    \n  <h1>Text editor based on Observables</h1>\n\n  <div class="alert alert-success" role="alert">\n      Supports typing of letters and numbers. Basic text selection and cursor placement is also supported.\n  </div>\n\n  <div class="editor">\n  <div class="page noselect" id="page"><span *ngFor="let char of currentDocument.characters" [ngClass]="{currentChar:char.isCurrent,selectedChar:char.isSelected}">{{char.value}}</span></div>\n  </div>\n\n  <h4><a href="http://www.syntaxsuccess.com/viewarticle/observables-in-angular-2.0">Read more here</a></h4>'})],t)}(),_=r(2),C=r(4),w=r(9),S=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,c=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(o<3?i(c):o>3?i(e,r,c):i(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},E=function(){function t(){}return t=S([_.C({declarations:[O],imports:[C.c,w.m.forChild([{path:"",component:O}])]})],t)}(),x=r(2),k=r(4),j=[],D=x._15({encapsulation:2,styles:j,data:{}}),F=x._13("editor",O,o,{},{},[]);r.d(e,"TextEditorModuleNgFactory",function(){return R});var P=r(2),L=r(4),B=r(9),R=P._14(E,[],function(t){return P._28([P._29(512,P.l,P._10,[[8,[F]],[3,P.l],P.F]),P._29(4608,L.m,L.l,[P.B,[2,L.t]]),P._29(512,L.c,L.c,[]),P._29(512,B.m,B.m,[[2,B.r],[2,B.k]]),P._29(512,E,E,[]),P._29(1024,B.i,function(){return[[{path:"",component:O}]]},[])])})},94:function(t,e,r){"use strict";var n=r(1),i=r(35);n.Observable.prototype.map=i.map},97:function(t,e,r){"use strict";var n=r(1),i=r(98);n.Observable.prototype.merge=i.merge},98:function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.merge.apply(void 0,t)(this)}var i=r(99),o=r(36);e.mergeStatic=o.merge,e.merge=n},99:function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(i.merge.apply(void 0,[e].concat(t)))}}var i=r(36),o=r(36);e.mergeStatic=o.merge,e.merge=n}});
//# sourceMappingURL=bundle-webpack-lazy-loading.js.map